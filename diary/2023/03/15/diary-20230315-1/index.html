<!DOCTYPE HTML>
<html lang="zh-CN">
    


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Android ADB Shell及其他Qt记录, 车舟慢">
    <meta name="baidu-site-verification" content="fmlEuI34ir">
    <meta name="google-site-verification" content="KeoTn_OFy4ndJwXNmm2gMeQfPhd7alqE9vQDwI32KCY">
    <meta name="description" content="ADB学习安卓系统是基于Linux系统开发，也就支持常见的Linux的命令，这些命令都保存在手机 “/system/bin” 的目录下，我们连接手机就可以使用命令 adb shell 来执行这些命令。注意，连接上手机后要打开调试功能，不然就">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Android ADB Shell及其他Qt记录 | 车舟慢</title>
    <link rel="icon" type="image/png" href="/diary/favicon.png">

    <link rel="stylesheet" type="text/css" href="/diary/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/diary/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/diary/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/diary/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/diary/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/diary/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/diary/css/my.css">
    
    <style type="text/css">
        
    </style>

    <script src="/diary/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    
    
        <script>
            (function(){
                var bp = document.createElement('script');
                var curProtocol = window.location.protocol.split(':')[0];
                if (curProtocol === 'https') {
                    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
                }
                else {
                    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                }
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(bp, s);
            })();
        </script>
    

<link rel="stylesheet" href="/diary/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/diary/css/prism-line-numbers.css" type="text/css"></head>

    <body>

        <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/diary/" class="waves-effect waves-light">
                    
                    <img src="/diary/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">车舟慢</span>
                </a>
            </div>
            


<!-- <a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/diary/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/diary/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/diary/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/diary/demo/shuoshuo" class="waves-effect waves-light">
            
            <i class="fa fa-music"></i>
            
            <span>说说</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/diary/galleries" class="waves-effect waves-light">
            
            <i class="fa fa-photo"></i>
            
            <span>相册</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul> -->

<!-- 支持二级菜单特性  -->
<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right nav-menu">
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/diary/" class="waves-effect waves-light">
              
                <i class="fa fa-home"></i>
              
              <span>首页</span>
            </a>

            
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/diary/categories" class="waves-effect waves-light">
              
                <i class="fa fa-bookmark"></i>
              
              <span>分类</span>
            </a>

            
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/diary/archives" class="waves-effect waves-light">
              
                <i class="fa fa-archive"></i>
              
              <span>归档</span>
            </a>

            
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/diary/demo/shuoshuo" class="waves-effect waves-light">
              
                <i class="fa fa-music"></i>
              
              <span>说说</span>
            </a>

            
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/diary/galleries" class="waves-effect waves-light">
              
                <i class="fa fa-photo"></i>
              
              <span>相册</span>
            </a>

            
      </li>
    

    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>

</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/diary/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">车舟慢</div>
        <div class="logo-desc">
            
            雁引愁心去，山衔好月来。
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/diary/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/diary/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/diary/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/diary/demo/shuoshuo" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-music"></i>
                
                说说
            </a>
        </li>
        
        <li>
            <a href="/diary/galleries" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-photo"></i>
                
                相册
            </a>
        </li>
        
        
    </ul>

   
   
<!-- 支持二级菜单特性   -->
<!-- <ul class="menu-list mobile-menu-list">
    
        <li class="m-nav-item">
                
                    <a href="/diary/" class="waves-effect waves-light">
                        
                        <i class="fa fa-fw fa-home"></i>
                        
                        首页
                    </a>
              
            </li>
        
        <li class="m-nav-item">
                
                    <a href="/diary/categories" class="waves-effect waves-light">
                        
                        <i class="fa fa-fw fa-bookmark"></i>
                        
                        分类
                    </a>
              
            </li>
        
        <li class="m-nav-item">
                
                    <a href="/diary/archives" class="waves-effect waves-light">
                        
                        <i class="fa fa-fw fa-archive"></i>
                        
                        归档
                    </a>
              
            </li>
        
        <li class="m-nav-item">
                
                    <a href="/diary/demo/shuoshuo" class="waves-effect waves-light">
                        
                        <i class="fa fa-fw fa-music"></i>
                        
                        说说
                    </a>
              
            </li>
        
        <li class="m-nav-item">
                
                    <a href="/diary/galleries" class="waves-effect waves-light">
                        
                        <i class="fa fa-fw fa-photo"></i>
                        
                        相册
                    </a>
              
            </li>
        

        
    </ul> -->

</div>

        </div>

        
    </nav>

</header>

        
<script src="/diary/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/diary/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/diary/medias/featureimages/20.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Android ADB Shell及其他Qt记录
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/diary/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/diary/tags/Android/" target="_blank">
                                <span class="chip bg-color">Android</span>
                            </a>
                        
                            <a href="/diary/tags/Java/" target="_blank">
                                <span class="chip bg-color">Java</span>
                            </a>
                        
                            <a href="/diary/tags/Qt/" target="_blank">
                                <span class="chip bg-color">Qt</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>
            
            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-03-15
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>作者:&nbsp;&nbsp;
                    
                        sean
                    
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                        7.4k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                        34 分
                    </div>
                    
                
                
                

            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="ADB学习"><a href="#ADB学习" class="headerlink" title="ADB学习"></a>ADB学习</h2><p>安卓系统是基于Linux系统开发，也就支持常见的Linux的命令，这些命令都保存在手机 “/system/bin” 的目录下，我们连接手机就可以使用命令 adb shell 来执行这些命令。<br>注意，连接上手机后要打开调试功能，不然就会出错。  </p>
<pre class="line-numbers language-html"><code class="language-html">进入F:\android-sdk-windows\platform-tools\adb.exe，在地址栏键入CMD进入命令行  

adb devices
adb shell ls 查看显示手机当前目录的所有内容  
adb shell 进入系统之后，直接输入ls也是可以的
查看本机装了哪些应用，我们需要切换成root用户之后（因为这个文件夹只有root权限才能进入），在 /data/data 目录下查看。  

adb shell dumpsys battery  
“AC powered:false”：表示是否连接电源供电。
“USB powered:true”：表示是否使用USB供电。
“status:2”：表示电池充电情况，5代表电池电量是满的。
“health:2”：表示电池的健康状况，2代表良好。
“level:5”：表示电池现在电量的百分比，我这里手机只有5%的电量。
“scale:100”：表示电池电量的最大值，如果电池有损耗，这里的值可能会降低。
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Android开发中onPostExecute-方法"><a href="#Android开发中onPostExecute-方法" class="headerlink" title="Android开发中onPostExecute()方法"></a>Android开发中onPostExecute()方法</h2><p>在doInBackground方法中，通过执行publishProgress方法call onProgressUpdate方法更新UI，这种方法常用来显示进度。onPostExecute方法是在zhuandoInBackground方法执行之后执行。你可以写一个接口层，然后把值传入接口层。在UI层实现接口，就可以获取到值。 </p>
<blockquote>
<p>1.创建一个接口  </p>
</blockquote>
<pre class="line-numbers language-html"><code class="language-html">import java.util.List;
public interface AsyncResponse {
    void onDataReceivedSuccess(List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>String</span><span class="token punctuation">></span></span> listData);
    void onDataReceivedFailed();
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>2.在AsyncTask中通过此接口获取到onPostExecute中的数值  </p>
</blockquote>
<pre class="line-numbers language-html"><code class="language-html">class SocketConnAsync extends AsyncTask<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>String,</span> <span class="token attr-name">Void,</span> <span class="token attr-name">String</span><span class="token punctuation">></span></span>
    {
        public AsyncResponse asyncResponse;    
        public void setOnAsyncResponse(AsyncResponse asyncResponse)
        {
            this.asyncResponse = asyncResponse;
        }

        @Override
        protected String doInBackground(String... params) {
            dataReceived = something;
            return dataReceived;            
        }

        @Override
        protected void onPostExecute(String msg) {          
            super.onPostExecute(msg);       
            if (msg != null)
            {               
                List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>String</span><span class="token punctuation">></span></span> listData = new ArrayList<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>String</span><span class="token punctuation">></span></span>();            
                listData = parseJsonResponse(msg);//解析msg的一个函数
                asyncResponse.onDataReceivedSuccess(listData);//将结果传给回调接口中的函数
            }
            else {
                asyncResponse.onDataReceivedFailed();
            }

        }               
    }
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>3.在Activity中实现此接口即可  </p>
</blockquote>
<pre class="line-numbers language-html"><code class="language-html">public class MainActivity extends Activity 
{
    private ListView environListView;   
    private List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>String</span><span class="token punctuation">></span></span> environmentList = null;//listview上显示的数据源
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.listview_environment);      
        sendRequestForListData();   
    }
    private void sendRequestForListData()
    {

        try {
            final SocketConnAsync socketConn = new SocketConnAsync();
            socketConn.execute(params);
            socketConn.setOnAsyncResponse(new AsyncResponse() {
                //通过自定义的接口回调获取AsyncTask中onPostExecute返回的结果变量
                @Override
                public void onDataReceivedSuccess(List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>String</span><span class="token punctuation">></span></span> listData) {                  
                    Log.d(TAG, "onDataReceivedSuccess");
                    environmentList = listData;//如此，我们便把onPostExecute中的变量赋给了成员变量environmentList 
                }

                @Override
                public void onDataReceivedFailed() {
                    ToastUtil.show(MainActivity.this, "data received failed!");             
                }
            });

        } catch (Exception e) {
            e.printStackTrace();
        }   
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="简易事件发送和监听"><a href="#简易事件发送和监听" class="headerlink" title="简易事件发送和监听"></a>简易事件发送和监听</h2><p>android基于LiveEventBus  </p>
<pre class="line-numbers language-html"><code class="language-html">LiveEventBus.get("ServiceVersion",String.class).post(dataContent);
LiveEventBus.get("ServiceVersion",String.class).observeSticky(this,version->{
    mBinding.serviceVersion.setText("版本 V"+version);
});
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Android中EditText输入限定"><a href="#Android中EditText输入限定" class="headerlink" title="Android中EditText输入限定"></a>Android中EditText输入限定</h2><p>禁止特殊字符和空格，最大输入长度限定为32  </p>
<pre class="line-numbers language-html"><code class="language-html">mBinding.dwsettingPropertywinDwName.setFilters(new InputFilter[]{new InputFilter() {
    @Override
    public CharSequence filter(CharSequence source, int start, int end, Spanned dest, int dstart, int dend) {
        String speChat="[`~!@#$%^&amp;*()+=|{}':;',\\[\\].&lt;>/&amp;＃;~！@#￥%……&amp;*（）——+|{}【】‘；：”“'。，、？]";
        Pattern pattern=Pattern.compile(speChat);
        Matcher matcher=pattern.matcher(source.toString());
        if(source.equals(" ")){
            return "";
        }
        else if(matcher.find()){
            return "";
        }else{
            return null;
        }

    }
},new InputFilter.LengthFilter(32)});
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="VS2015中调试qt"><a href="#VS2015中调试qt" class="headerlink" title="VS2015中调试qt"></a>VS2015中调试qt</h2><p>VS 注释ctrl+k ctrl+c  取消注释ctrl+k ctrl+u<br>设置断点后F5开启断点调试，主菜单中调试-&gt;窗口-&gt;断点，弹出的窗口可以查看所有已设断点<br>主菜单中窗口-&gt;重置窗口布局<br>十六进制输入0a，会转义成换行符\n<br>输出调试字符串到vs输出窗口，OutputDebugStringA(“teststr”);<br>打开vs2015对IDE打开的文件在Solution Explorer自动定位的功能：<br>主菜单tools-&gt;项目和解决方案-&gt;常规-&gt;Track Active Item in Solution Explorer(在解决方案资源管理器中跟踪活动项) 这个选项处于非选中状态。把它打上勾勾则匹配，去掉则不自动匹配。 </p>
<pre class="line-numbers language-html"><code class="language-html">project属性不能选择.net目标框架版本时，右键卸载项目，卸载项目后右键，编辑项目**.vcxproj，将下面这句话<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TargetFrameworkVersion</span><span class="token punctuation">></span></span>v4.5.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TargetFrameworkVersion</span><span class="token punctuation">></span></span>插入到22行，重新加载项目  
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>qt的信号与槽  </p>
<pre class="line-numbers language-html"><code class="language-html">connect(参数1,参数2,参数3,参数4)  
参数1：信号的发送者
参数2：发送的信号（函数地址）
参数3：信号的接受者
参数4：处理的槽函数（函数的地址）

class A:public QObject {
  Q_OBJECT 
singals: 
  void s(int i);
};
class B:public QObject{
  Q_OBJECT 
public slots: 
  void x(int i){}
};

emit s(1);

 A ma; 
 B mb; 
 mb.connect(&amp;ma, SIGNAL(s(int)),SLOT(x(int));
这种方式就是传统的调用方式

 A ma; 
 B mb; 
 QObject::connect(&amp;ma, &amp;A::s, &amp;mb, &amp;B::x );
该函数对信号和槽函数的指定方式不是使用的宏。该形式的函数其实是一个模板函数，通过以指针的形式来指定信号和槽函数来达到不再使用SIGNAL()和SLOT()宏的目的，使用这种方式也有很多其他的好处，这种方式的槽函数可以不使用slots关键字声明，任意的成员函数都可以是槽函数

A ma; B mb; 
QObject::connect (&amp;ma, SIGNAL(s(int)), &amp;mb, SLOT(x(int));
这种方式是将绑定函数写成全局函数引用的方式，connect是QObject的一个static函数，所以可以这么用；
使用的时候，信号的指定须使用宏SIGNAL()，槽须使用宏SLOT()，这两个能把括号中的内容转换为与形参相对应的const char*形式。
在指定函数时，只能指定函数参数的类型，不能有参数名，也不能指定函数的返回类型。
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="emit实现窗口之间传递数据"><a href="#emit实现窗口之间传递数据" class="headerlink" title="emit实现窗口之间传递数据"></a>emit实现窗口之间传递数据</h3><p>在子窗口中定义信号函数，在任意一个子窗口函数中emit信号函数，同时在主窗口函数中对子窗口对象、信号函数、与主窗口的函数做connect  </p>
<h2 id="C-中创建对象"><a href="#C-中创建对象" class="headerlink" title="C++中创建对象"></a>C++中创建对象</h2><p> 在C++中，创建任何一个对象都需要占用一定的内存空间。可用的内存分两个部分：栈（stack）和堆（heap）。所以在C++中创建对象有两种方式：在栈上创建对象和在堆上创建对象。  </p>
<blockquote>
<p>在栈上创建的对象，有一个自动的生命周期，他们的生命周期由它声明的作用域所决定，换言之，只要变量超出了其作用域，该对象的内存就被释放了。<br>在堆上创建对象则不同。在堆上创建的对象会一直待在那里，直到你决定把它释放，空闲出其对应的内存。  </p>
</blockquote>
<pre class="line-numbers language-html"><code class="language-html"> #include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iostream</span><span class="token punctuation">></span></span>
using namespace std;
class Person{
private:
    std::string m_Name;
public:
    Person():m_Name("Unknown"){}
    Person(const std::string&amp; name):m_Name(name){}
    const std::string&amp; GetName(){
        return m_Name;
    }
};
int main()
{
    Person *p1,*p2;
    {
        // 在栈上显式创建对象
        // Person personOnStack=Person("person1");
        // 在栈上隐示创建对象
        Person personOnStack("person1");
        cout&lt;&lt;"on Stack : "&lt;&lt;personOnStack.GetName()&lt;&lt;endl;
        // 在堆上创建对象 关键词new
        Person *personOnHeap=new Person("person2");
        cout&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>"on</span> <span class="token attr-name">Heap</span>  <span class="token attr-name">:</span> <span class="token attr-name">"&lt;&lt;personOnHeap-</span><span class="token punctuation">></span></span>GetName()&lt;&lt;endl;
        // p1指针指向personOnStack所在的内存地址
        // 在大括号之后personOnStack将被回收
        // 在大括号之后无法通过p1获取对象
        p1=&amp;personOnStack;
        // personOnHeap指针赋值给p2，在大括号后不会被回收
        p2=personOnHeap;
    }
    // 当代码运行到此行时，栈上对象personOnStack将被回收
    // 在堆上分配的对象要手动释放内存,离开作用域后也不会自动释放内存空间
    cout&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>"p2</span>  <span class="token attr-name">:</span> <span class="token attr-name">"&lt;&lt;p2-</span><span class="token punctuation">></span></span>GetName()&lt;&lt;endl;
    delete p2;
    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="单例模式的多线程安全"><a href="#单例模式的多线程安全" class="headerlink" title="单例模式的多线程安全"></a>单例模式的多线程安全</h2><pre class="line-numbers language-html"><code class="language-html">public class SingleTon {
    private static volatile SingleTon instance;
    public static SingleTon getInstance() {
        if (instance == null) {
            //同步锁，保证同一时刻只有一个线程进入该代码块。
            synchronized (SingleTon.class) {
                if (instance == null) {
                    instance = new SingleTon();
                }
            }
        }
        return instance;
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Java传统多线程通信"><a href="#Java传统多线程通信" class="headerlink" title="Java传统多线程通信"></a>Java传统多线程通信</h2><blockquote>
<p>通过synchronized关键字以“上锁”机制实现线程间的通信。多个线程持有同一个对象，他们可以访问同一个共享变量，利用 synchronized“上锁” 机制，哪个线程拿到了锁，它就可以对共享变量进行修改，从而实现了通信。<br>使用 Object 类的 wait/notify 机制，执行代码 obj.wait();后这个对象 obj 所在的线程进入阻塞状态，直到其他线程调用了 obj.notify();方法 后线程才会被唤醒。  </p>
</blockquote>
<h3 id="重读synchronized"><a href="#重读synchronized" class="headerlink" title="重读synchronized"></a>重读synchronized</h3><p>Synchronized是Java的一个关键字，用来修饰普通方法，静态方法和代码块。使用于多线程并发环境下，可以用来修饰实例对象和类对象，确保在同一时刻只有一个线程可以访问被 Synchronized 修饰的对象，并且能确保线程间的共享变量及时可见性，还可以避免重排序，从而保证线程安全。</p>
<blockquote>
<p>搞清楚synchronized锁的是什么<br>锁住类的实例对象时，在多线程中，如果多个线程执行同一个runnable，就存在同步关系，而如果new了多个实例对象，且线程间各自执行不同的runnable，线程之间就不存在同步关系<br>修饰静态方法，锁住类对象,在多线程中，尽管new了多个实例对象，但是本质上是属于同一个类对象，所以还是存在同步关系  </p>
</blockquote>
<pre class="line-numbers language-html"><code class="language-html">// 修饰普通方法，锁住类的实例对象
public synchronized void a(){
}
// 此种修饰代码块，锁住类的实例对象
synchronized(this){
    //todo
}
// 此种修饰代码块，锁住类的实例对象
Object lockObj=new Object();
synchronized(lockObj){
    //todo
}
// 修饰静态方法，锁住类对象
public static synchronized void b(){
}
// 此种修饰代码块，锁住类对象
synchronized(SomeClassObj.class){
 //todo
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="多线程中synchronized实践"><a href="#多线程中synchronized实践" class="headerlink" title="多线程中synchronized实践"></a>多线程中synchronized实践</h3><pre class="line-numbers language-html"><code class="language-html">import java.text.SimpleDateFormat;
import java.util.Calendar;

public class Helloworld implements Runnable {
    @Override
    public void run() {
        a();
        b();
    }
    public void a() {
        System.out.println(Thread.currentThread().getName() + " a start on " + getCurrentTime());
        try {
            Thread.sleep(3000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println(Thread.currentThread().getName() + " a end " + getCurrentTime());
    }
    public void b() {
        System.out.println(Thread.currentThread().getName() + " b start " + getCurrentTime());
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println(Thread.currentThread().getName() + " b end " + getCurrentTime());
    }
    public static String getCurrentTime() {
        String dateFormat = "yyyy-MM-dd hh:mm:ss";
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(dateFormat);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(System.currentTimeMillis());
        return simpleDateFormat.format(calendar.getTime());
    }
    public static void main(String[] args) {
        Helloworld synchronizedTestRunnable = new Helloworld();
        new Thread(synchronizedTestRunnable).start();
        new Thread(synchronizedTestRunnable).start();
    }

}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>根据执行结果可以看到两个线程会同时执行同一个 runnable 中的方法 a() 与 b()，并且不存在顺序关系，即线程不安全。接下来我们试试加上 Synchronized 关键字。<br>给普通方法 a() 与 b() 分别都加上 Synchronized 关键字修饰，如下  </p>
<pre class="line-numbers language-html"><code class="language-html">import java.text.SimpleDateFormat;
import java.util.Calendar;
public class Helloworld implements Runnable {
    @Override
    public void run() {
        a();
        b();
    }

    public synchronized void a() {
        System.out.println(Thread.currentThread().getName() + " a start on " + getCurrentTime());
        try {
            Thread.sleep(3000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println(Thread.currentThread().getName() + " a end " + getCurrentTime());
    }

    public synchronized void b() {
        System.out.println(Thread.currentThread().getName() + " b start " + getCurrentTime());
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println(Thread.currentThread().getName() + " b end " + getCurrentTime());
    }

    public static String getCurrentTime() {
        String dateFormat = "yyyy-MM-dd hh:mm:ss";
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(dateFormat);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(System.currentTimeMillis());
        return simpleDateFormat.format(calendar.getTime());
    }

    public static void main(String[] args) {
        Helloworld synchronizedTestRunnable = new Helloworld();
        new Thread(synchronizedTestRunnable).start();
        new Thread(synchronizedTestRunnable).start();
    }

}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以看到结果，先是0线程的a()执行，然后0线程的b()执行，然后1线程的a()执行，然后1线程的b()执行，两个线程按顺序同步执行同一个 runnable 中的方法 a() 与 b()，达到同步锁线程安全的效果。  </p>
<pre class="line-numbers language-html"><code class="language-html">可以思考，如果两个线程分别执行两个runnable，即便普通方法都被synchorized修饰，仍会并发执行，是没同步的不可意料的状态  
    public static void main(String[] args) {
        Helloworld synchronizedTestRunnable = new Helloworld();
        Helloworld synchronizedTestRunnable2 = new Helloworld();
        new Thread(synchronizedTestRunnable).start();
        new Thread(synchronizedTestRunnable2).start();
    }
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>用 Synchronized 修饰普通方法，但是我们发现，当我们用两个线程分别执行两个 runnable 时，同步锁失效了，两个线程还是同时并发执行。 现在，我们稍微修改一下上述代码，将方法 a() 与方法 b() 修改成静态方法</p>
<pre class="line-numbers language-html"><code class="language-html">import java.text.SimpleDateFormat;
import java.util.Calendar;
public class Helloworld implements Runnable {
    @Override
    public void run() {
        a();
        b();
    }
    public static synchronized void a() {
        System.out.println(Thread.currentThread().getName() + " a start on " + getCurrentTime());
        try {
            Thread.sleep(3000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println(Thread.currentThread().getName() + " a end " + getCurrentTime());
    }
    public static synchronized void b() {
        System.out.println(Thread.currentThread().getName() + " b start " + getCurrentTime());
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println(Thread.currentThread().getName() + " b end " + getCurrentTime());
    }
    public static String getCurrentTime() {
        String dateFormat = "yyyy-MM-dd hh:mm:ss";
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(dateFormat);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(System.currentTimeMillis());
        return simpleDateFormat.format(calendar.getTime());
    }
    public static void main(String[] args) {
        Helloworld synchronizedTestRunnable = new Helloworld();
        Helloworld synchronizedTestRunnable2 = new Helloworld();
        new Thread(synchronizedTestRunnable).start();
        new Thread(synchronizedTestRunnable2).start();
    }

}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以看到结果，先是0线程的a()执行，然后0线程的b()执行，然后1线程的a()执行，然后1线程的b()执行，两个线程按顺序同步执行两个 runnable 中的方法 a() 与 b()，达到同步锁线程安全的效果。  </p>
<p>前面介绍的都是用Synchronized关键字来修饰方法，但是很多时候我们只需要同步一小块代码，而不需要同步整个方法，从而减小系统开销。现在，我们接着再修改一下代码，就将方法a()的 Thread.sleep(3000) 锁住，方法 b() 还是普通方法。  </p>
<pre class="line-numbers language-html"><code class="language-html">public class SynchronizedTestRunnable implements Runnable {
    @Override
    public void run() {
        a();
        b();
    }
    public void a() {
        System.out.println(Thread.currentThread().getName() + " a start on " + getCurrentTime());
        synchronized (this) {
            try {
                Thread.sleep(3000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        System.out.println(Thread.currentThread().getName() + " a end " + getCurrentTime());
    }
    public void b() {
        System.out.println(Thread.currentThread().getName() + " b start " + getCurrentTime());
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println(Thread.currentThread().getName() + " b end " + getCurrentTime());
    }
    public static String getCurrentTime() {
        String dateFormat = "yyyy-MM-dd hh:mm:ss";
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(dateFormat);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(System.currentTimeMillis());
        return simpleDateFormat.format(calendar.getTime());
    }
    public static void main(String[] args) {
        SynchronizedTestRunnable synchronizedTestRunnable = new SynchronizedTestRunnable();
        new Thread(synchronizedTestRunnable).start();
        new Thread(synchronizedTestRunnable).start();
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>两个线程执行同一个runnable，Thread-0 与 Thread-1 同时进入方法 a()，但是由于锁的存在，Thread-0 与 Thread-1 存在竞争关系，这里 Thread-1 先获取到锁，所以会往下执行，而 Thread-0 则阻塞，直到 Thread-1 执行完方法 a()，Thread-0 才开始执行方法 a()  </p>
<h2 id="Android的hander机制"><a href="#Android的hander机制" class="headerlink" title="Android的hander机制"></a>Android的hander机制</h2><p>安卓整个View视图树是单线程的，在任何视图上调用任何方法时，必须始终在UI线程上。如果在其他线程上工作并希望从该线程更新视图的状态，则应该使用Handler。在Android系统中，Handler就是这么一套提供在任意线程都可以发消息给UI线程的线程间通信工具。Handler相当于消息的生产者，每个Handler都持有共享MessageQueue的引用  </p>
<p>Android是不允许在子线中更新UI的。但是，有些时候我们又必须在子线程里去执行一些耗时任务，然后根据任务的执行结果来更新相应的UI控件。鉴于此种情况，Android提供了一套异步消息处理机制。Handle不止可以从子线程向主线程发送消息，也可以在两个子线程之间通信。  </p>
<h2 id="VsCode配置Java开发环境"><a href="#VsCode配置Java开发环境" class="headerlink" title="VsCode配置Java开发环境"></a>VsCode配置Java开发环境</h2><pre class="line-numbers language-html"><code class="language-html">1. 正常下载安装JDK,添加环境变量JAVA_HOME和配置系统Path变量.  
2. 去https://code.visualstudio.com/ 下载安装VsCode，  
3. 然后安装VsCode的扩展插件EXTENSIONS:  
   a. Debugger for Java  
   b. Language Support for Java(TM) by Red Hat  
   c. Extension Pack for Java  

重启vscode，侧边栏Explorer选项卡中点击Create Java Project新建Java工程  
新建项目或打开旧项目，选择包含main要运行的标准Java入口点方法的Java类，如：  
public class App {
    public static void main(String[] args) throws Exception {
        System.out.println("Hello, World!");
    }
}
按F5运行它

类定义了接口时，在类内部右键选择Source Actions... 选择要实现的方法，可以自动补全接口方法
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Runnable接口"><a href="#Runnable接口" class="headerlink" title="Runnable接口"></a>Runnable接口</h2><p>Runnable 接口由其实现类来由线程执行对应的实例。对于实现类必须是实现方法 run。<br>该接口旨在为希望在它们处于活动状态时执行代码的对象提供一个通用协议。 例如，Runnable 是由类 Thread 实现的。 处于活动状态仅意味着线程已启动且尚未停止。<br>此外，Runnable 提供了使类处于活动状态而不需要继承 Thread 的重载方法。 对于实现 Runnable 的子类， 只需要传入对应的实现到 Thread 实例中， 就可以直接运行， 而不需要在进行 Thread 的基础上继承实现 run 方法。 所以，如果你不需要修改或者增强 Threa 类的基本行为，则应该使用 Runnable 接口。</p>
<blockquote>
<p>匿名类Runnable   </p>
</blockquote>
<pre class="line-numbers language-html"><code class="language-html">public class Helloworld {
    public static void main(String[] args){
        // 匿名类
        Runnable runnable=new Runnable() {
            @Override
            public void run(){
                System.out.println("runnable 匿名类");
            }
        };
        Thread thread=new Thread(runnable);
        thread.start();
        System.out.println("hello,zs");
    }
}  
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>外部实现类Runnable  </p>
</blockquote>
<p>先定义实现Runnable接口的外部实现类  </p>
<pre class="line-numbers language-html"><code class="language-html">public class MyRunnable implements Runnable {
    @Override
    public void run() {
        // TODO Auto-generated method stub
        System.out.println("runnable 外部实现类");
    }
}
然后使用  
public class Helloworld {
    public static void main(String[] args){
        Thread thread=new Thread(new MyRunnable());
        thread.start();
        System.out.println("hello,zs");
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>函数接口Lambda  </p>
</blockquote>
<pre class="line-numbers language-html"><code class="language-html">public class Helloworld {
    public static void main(String[] args){
        Thread thread=new Thread(()->{
            System.out.println("Lambda表达式的写法，执行完毕");
        });
        thread.start();
        System.out.println("hello,zs");
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Thread-yield"><a href="#Thread-yield" class="headerlink" title="Thread.yield()"></a>Thread.yield()</h3><p>多线程里耗时任务里自动放弃当前cpu资源，避免卡死UI线程,类似Thread.Sleep(n)告诉操作系统自己要休息n毫秒，这段时间就让给另一个就绪的线程吧  </p>
<pre class="line-numbers language-html"><code class="language-html">public class Helloworld {
    public static void main(String[] args){
        Thread thread=new Thread(()->{
            long startTime=System.currentTimeMillis();
            System.out.println("演示 yield 方法的使用");
            long count=0;
            for(int i=0;i&lt;5000000;i++){
                count=count+i;
                Thread.yield();
            }
            long endTime=System.currentTimeMillis();
            System.out.println("包含总用时:"+(endTime - startTime) + " 毫秒");
        });
        thread.start();
        System.out.println("hello,zs");
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="网络传四字节int数值"><a href="#网络传四字节int数值" class="headerlink" title="网络传四字节int数值"></a>网络传四字节int数值</h2><p>HexStringInt.java  </p>
<pre class="line-numbers language-html"><code class="language-html">public class HexStringInt {
    public static void main(String[] args) throws Exception {

        // 网络传递过来的int整数是这样低位在前的4字节数组
        byte[] passInBytes1=intToBytes(130);
        // 直接转String显示，到127再加1后128变成-128，129变-127，130变-126
        int tmp2=byteToint_r(passInBytes1);
        System.out.println("低位在前的4字节数组还原成int的字符串显示，？ "+String.valueOf(tmp2));
        // 网络传递过来的int整数是这样低位在前的4字节数组
        // byte[] passInBytes2=intToBytes(1198);
        // 先将低位在前数组逆个序,转成hex数组的hexString，在通过Integer.parseInt将hexString正确还原为int整数
        // String reverseStr=bytesToHexString(reverseBytes(passInBytes2));
        // System.out.println(Integer.parseInt(reverseStr,16));

        // 网络传递过来的int整数是这样低位在前的4字节数组
        byte[] passInBytes3=intToBytes(121);
        System.out.println(String.valueOf(byteToint(passInBytes3,0)));
       // System.out.println(Integer.parseInt("00000080",16));
    }
    public static byte[] hexStringToByteArray(String s) {
        int len = s.length();
        byte[] b = new byte[len / 2];
        for (int i = 0; i &lt; len; i += 2) {
            // 两位一组，表示一个字节,把这样表示的16进制字符串，还原成一个字节
            b[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4) + Character
                    .digit(s.charAt(i + 1), 16));
        }
        return b;
    }
    public static String bytesToHexString(byte[] bArray) {
        StringBuffer sb = new StringBuffer(bArray.length);
        String sTemp;
        for (int i = 0; i &lt; bArray.length; i++) {
         sTemp = Integer.toHexString(0xFF &amp; bArray[i]);
         if (sTemp.length() &lt; 2)
          sb.append(0);
         sb.append(sTemp.toUpperCase());
        }
        return sb.toString();
    }
    public static byte[] intToBytes(int a){
        // 结果低位在前
        byte[] ans=new byte[4];
        for(int i=0;i&lt;4;i++)
            ans[i]=(byte)(a>>(i*8));//截断 int 的低 8 位为一个字节 byte，并存储起来
        return ans;
    }
    public static byte[] reverseBytes(byte[] b){
        byte[] res;
        for (int i = 0; i &lt; b.length / 2; i++) {
            byte temp = b[i];
            b[i] = b[b.length - 1 - i];
            b[b.length - 1 - i] = temp;
        }
        return b;
    }
    public static int byteToint_r(byte[] b) {
        // 先对网络4字节数组逆序转换
        for (int i = 0; i &lt; b.length / 2; i++) {
            byte temp = b[i];
            b[i] = b[b.length - 1 - i];
            b[b.length - 1 - i] = temp;
        }
        int n = 0;
        n = (b[0] &lt;&lt; 24) | (b[1] &lt;&lt; 16) | (b[2] &lt;&lt; 8) | (b[3] &lt;&lt; 0);
        return n;
    }
    public static int byteToint(byte[] src,int offset) {
        // 原始4字节数组(低位在前) 转换，
        // int value;    
        // value = (int) ((src[offset] &amp; 0xFF)   
        //         | ((src[offset+1] &amp; 0xFF)&lt;&lt;8)   
        //         | ((src[offset+2] &amp; 0xFF)&lt;&lt;16)   
        //         | ((src[offset+3] &amp; 0xFF)&lt;&lt;24)); 
        // return value;

        int value;    
        value = (int) ((src[offset]&amp; 0xFF)   
                | ((src[offset+1])&lt;&lt;8)   
                | ((src[offset+2])&lt;&lt;16)   
                | ((src[offset+3] &amp; 0xFF)&lt;&lt;24)); 
        return value;
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="定时发信号刷新绘图，弹窗获取输入"><a href="#定时发信号刷新绘图，弹窗获取输入" class="headerlink" title="定时发信号刷新绘图，弹窗获取输入"></a>定时发信号刷新绘图，弹窗获取输入</h2><p>dialoggetinterest.h  </p>
<pre class="line-numbers language-html"><code class="language-html">#ifndef DIALOGGETINTEREST_H
#define DIALOGGETINTEREST_H
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QDialog</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QList</span><span class="token punctuation">></span></span>
namespace Ui {
class DialogGetInterest;
}
class DialogGetInterest : public QDialog
{
    Q_OBJECT
public:
    explicit DialogGetInterest(QWidget *parent = 0);
    ~DialogGetInterest();
    QString name;
    QList<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>int</span><span class="token punctuation">></span></span> listInputValue;
    void OnClickBtnClose();
private:
    Ui::DialogGetInterest *ui;
};
#endif // DIALOGGETINTEREST_H
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>dialoggetinterest.cpp  </p>
<pre class="line-numbers language-html"><code class="language-html">#include "dialoggetinterest.h"
#include "ui_dialoggetinterest.h"
DialogGetInterest::DialogGetInterest(QWidget *parent) :
    QDialog(parent),
    ui(new Ui::DialogGetInterest)
{
    ui->setupUi(this);

    QObject::connect(ui->pushButtonClose,&amp;QPushButton::clicked,this,&amp;DialogGetInterest::OnClickBtnClose);
}
void DialogGetInterest::OnClickBtnClose(){

    listInputValue.append(ui->lineEdit1->text().toInt());
    listInputValue.append(ui->lineEdit1->text().toInt());

    this->accept();
}
DialogGetInterest::~DialogGetInterest()
{
    delete ui;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>mainwindow.h  </p>
<pre class="line-numbers language-html"><code class="language-html">#ifndef MAINWINDOW_H
#define MAINWINDOW_H
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QMainWindow</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QTimer</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QTime</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QPainter</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>qdebug.h</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QPushButton</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QList</span><span class="token punctuation">></span></span>
namespace Ui {
class MainWindow;
}
class MainWindow : public QMainWindow
{
    Q_OBJECT
public:
    explicit MainWindow(QWidget *parent = 0);
    ~MainWindow();
    QPushButton *userButton;
signals:
    void signalAngleChanged();
public slots:
    void whenAngleChanged();
    void buttonClicked();
private:
    Ui::MainWindow *ui;
    QTimer *timer;
    int m_nValue;
    void timeoutFun();
protected:
    void paintEvent(QPaintEvent *);
};
#endif // MAINWINDOW_H
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>mainwindow.cpp  </p>
<pre class="line-numbers language-html"><code class="language-html">#include "mainwindow.h"
#include "ui_mainwindow.h"


#include "dialoggetinterest.h"
MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    ui->setupUi(this);
    timer=new QTimer(this);
    connect(timer,&amp;QTimer::timeout,this,&amp;MainWindow::timeoutFun);
    connect(this,&amp;MainWindow::signalAngleChanged,this,&amp;MainWindow::whenAngleChanged);

    userButton=new QPushButton;
    userButton->setParent(this);
    userButton->setText("ClickMe");
    userButton->setGeometry(100,100,80,20);
    userButton->show();
    connect(userButton,&amp;QPushButton::clicked,this,&amp;MainWindow::buttonClicked);

    timer->start(1000);
    m_nValue=0;
}
void MainWindow::buttonClicked(){
    qDebug()&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>"666666";</span>
    <span class="token attr-name">DialogGetInterest</span> <span class="token attr-name">*model</span><span class="token attr-value"><span class="token punctuation">=</span>new</span> <span class="token attr-name">DialogGetInterest(this);</span>
    <span class="token attr-name">model-</span><span class="token punctuation">></span></span>setModal(true);
    model->setWindowFlags(Qt::Dialog|Qt::FramelessWindowHint);
    model->exec();
    if(model->result()==QDialog::Accepted){
        ui->label1->setText(QString::number(model->listInputValue.at(0)));
        qDebug()&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>"正确获取输入</span> <span class="token attr-name"><span class="token namespace">个数："+QString:</span>:number(model-</span><span class="token punctuation">></span></span>listInputValue.count());
    }else{
        qDebug()&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>"没有获取输入";</span>
    <span class="token attr-name">}</span>
<span class="token attr-name">}</span>
<span class="token attr-name"><span class="token namespace">MainWindow:</span>:~MainWindow()</span>
<span class="token attr-name">{</span>
    <span class="token attr-name">delete</span> <span class="token attr-name">ui;</span>
    <span class="token attr-name">if(timer!</span><span class="token attr-value"><span class="token punctuation">=</span>NULL){</span>
        <span class="token attr-name">timer-</span><span class="token punctuation">></span></span>stop();
        delete timer;
    }
    if(userButton!=NULL){
        delete userButton;
    }
}
void MainWindow::whenAngleChanged(){
    qDebug()&lt;&lt;QString("当前角度： ")+QString::number(m_nValue)+QString(" 判断是否需要更改转速");
}
void MainWindow::timeoutFun(){

    //随机值
    QTime randtime=QTime::currentTime();
    qsrand(randtime.msec()+randtime.second()*1000);
    int n=qrand()%25;
    m_nValue=m_nValue+n;
    if(m_nValue>360){
        m_nValue=0;
    }

    MainWindow::repaint();
    emit signalAngleChanged();
}

void MainWindow::paintEvent(QPaintEvent*){
    QPainter painter(this);
    QColor m_crBack(255,255,255);
    QColor m_crProgressChannel(220,220,220);
    painter.fillRect(this->rect(),m_crBack);
    painter.setRenderHint(QPainter::Antialiasing);
    // 先画底部大圆
    painter.setPen(m_crProgressChannel);
    painter.setBrush(m_crProgressChannel);
    painter.drawEllipse(this->rect());
    // 画扇形
    int m_fStep=1;
    QColor m_crProgressBar(16,142,233);
    painter.setPen(m_crProgressBar);
    painter.setBrush(m_crProgressBar);
    painter.drawPie(this->rect(), 90 * 16, -m_nValue * m_fStep * 16);
    // 在画上部小圆，未重合区域就是进度条
    QRect rectInCircl = this->rect();
    rectInCircl.adjust(20, 20, -20, -20);
    painter.setPen(m_crBack);
    painter.setBrush(m_crBack);
    painter.drawEllipse(rectInCircl);
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Qt5使用ini配置文件"><a href="#Qt5使用ini配置文件" class="headerlink" title="Qt5使用ini配置文件"></a>Qt5使用ini配置文件</h2><pre class="line-numbers language-html"><code class="language-html">#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QSettings</span><span class="token punctuation">></span></span>  
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QTextCodec</span><span class="token punctuation">></span></span>  
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QDebug</span><span class="token punctuation">></span></span>  
// ini文件只需要将文件路径及文件格式传入即可（ini文件则会更新，若文件不存在，会自动创建）
    QSettings iniFile("./mytestconfig.ini",QSettings::IniFormat);
    iniFile.setIniCodec(QTextCodec::codecForName("utf-8"));

    // 写入
    iniFile.setValue("/img_width",200);
    iniFile.setValue("/img_height",400);
    iniFile.setValue("/PointOfInterest/margin",5);
    iniFile.setValue("/PointOfInterest/normalSpeed",2);
    iniFile.setValue("/PointOfInterest/lowSpeed",2);
    iniFile.beginGroup("PointOfInterest");
    iniFile.setValue("angle","3,25,60");
    iniFile.endGroup();

    // 读取方式1,好处:代码简洁，坏处:不能指定读取某一组的内容，必须读取ini文件所有内容
//    QSettings setting1("./mytestconfig.ini",QSettings::IniFormat);
//    foreach (QString key, setting1.allKeys()) {
//        qDebug()&lt;&lt; key &lt;&lt; setting1.value(key).toString();
//    }

    // 读取方式2,好处:指定读取某一组的内容
//    QSettings setting2("./mytestconfig.ini",QSettings::IniFormat);
//    QStringList groupList=setting2.childGroups();
//    setting2.beginGroup(groupList[0]);
//    foreach (QString key, setting2.allKeys()) {
//        qDebug()&lt;&lt; key &lt;&lt; setting2.value(key).toString();
//    }

    // 读取方式3,好处:根据内容路径指定读取任意值
//    QSettings setting3("./mytestconfig.ini",QSettings::IniFormat);
//    QString valueMargin=setting3.value("/PointOfInterest/margin").toString();
//    QString valueAngle=setting3.value("/PointOfInterest/angle").toString();
//    ui->label1->setText(valueMargin+" "+valueAngle);
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="qt读取ini内中文路径-通过qprocess打开别的进程"><a href="#qt读取ini内中文路径-通过qprocess打开别的进程" class="headerlink" title="qt读取ini内中文路径,通过qprocess打开别的进程"></a>qt读取ini内中文路径,通过qprocess打开别的进程</h2><pre class="line-numbers language-html"><code class="language-html">#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QSettings</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QTextCodec</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QProcess</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stdio.h</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>direct.h</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QDir</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QFileInfo</span><span class="token punctuation">></span></span>
#include <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QDebug</span><span class="token punctuation">></span></span>

    QFileInfo fileInfo("./App.ini");
    if(!fileInfo.isFile()){
        QSettings *settings=new QSettings("App.ini",QSettings::IniFormat);
        settings->setIniCodec(QTextCodec::codecForName("utf-8"));
        settings->beginGroup("Info");
        settings->setValue("ZHPath","F:\\迅雷下载");
        settings->setValue("ZHName","测试程序.exe");
        settings->endGroup();
        delete settings;
        settings=nullptr;
    }

    connect(ui->pushButton,&amp;QPushButton::released,[=](){
        QSettings *setting=new QSettings("App.ini",QSettings::IniFormat);
        setting->setIniCodec(QTextCodec::codecForName("utf-8"));
        QString exePath = setting->value("Info/ZHPath").toString();
        QString exeName = setting->value("Info/ZHName").toString();
        qDebug()&lt;&lt;"target Path: "&lt;&lt;exePath&lt;&lt;" target EXE: "&lt;&lt;exeName;
        QString oldpath=QDir::currentPath();
        qDebug()&lt;&lt;QString::fromUtf8("原始工作目录")&lt;&lt;oldpath;
            //切换到欲打开目标进程所在目录
        _chdir(exePath.toLocal8Bit().data());
        QString newpath=QDir::currentPath();
        qDebug()&lt;&lt;QString::fromUtf8("欲打开目标进程所在目录 ")&lt;&lt;newpath&lt;&lt;QString::fromUtf8("成为当前工作目录");
        QProcess process(0);
        if(process.startDetached(exeName)){
            qDebug()&lt;&lt;QString::fromUtf8("目标进程打开成功");
        }else{
            qDebug()&lt;&lt;QString::fromUtf8("目标进程打开失败");
        }
        _chdir(oldpath.toLocal8Bit().data());
        qDebug()&lt;&lt;QString::fromUtf8("返回原始工作目录");
        qDebug()&lt;&lt;QDir::currentPath();
    });
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Qt5-8-0MSVC2016-64开发环境"><a href="#Qt5-8-0MSVC2016-64开发环境" class="headerlink" title="Qt5.8.0MSVC2016_64开发环境"></a>Qt5.8.0MSVC2016_64开发环境</h2><h3 id="安装vs2015"><a href="#安装vs2015" class="headerlink" title="安装vs2015"></a>安装vs2015</h3><p>下载安装Microsoft Visual Studio Enterprise 2015版本14.0.25420.01 Update3（切记，安装VS2015不要联网）直接下一步，直到遇到这一步  </p>
<pre class="line-numbers language-html"><code class="language-html">vs2015.pro_chs.iso
vs2015pro key: HMGNV-WCYXV-X7G9W-YCX63-B98R2  

必选项：  
编程语言/Visual C++
跨平台移动开发
否则Qt配置编译器时MVC2015编译器将会有感叹号（就使用不了了）

若出现VS2015安装包损坏或丢失，将iso安装包里除了vs_professional.exe其他全部文件拷贝到在报错对话框里那个C:\Users\MH\AppData\Local\Temp\*目录下，保持结构与iso内相同
先看下提示的是哪个文件，然后关闭VS安装程序，打开安装包。找到那个程序，手动安装即可。对话框中按钮变继续，点继续

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="安装Qt"><a href="#安装Qt" class="headerlink" title="安装Qt"></a>安装Qt</h3><pre class="line-numbers language-html"><code class="language-html">全英文路径  
安装完成后，点击"环境变量"，编辑Path变量，将qt库安装后大量工具和动态链接库所处的bin路径添加进path  
如D:\Program\Qt5.8.0\5.8\msvc2015_64\bin
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="vs2015安装QtVSTools"><a href="#vs2015安装QtVSTools" class="headerlink" title="vs2015安装QtVSTools"></a>vs2015安装QtVSTools</h3><pre class="line-numbers language-html"><code class="language-html">VS2015-工具-扩展和更新，联机标签中搜索Qt，安装扩展包Qt VisualStudio Tools和QtPackage
配置Qt版本，name设置Qt5.8.0 Path设置D:\Program\Qt5.8.0\5.8\msvc2015_64

Reinstall templates and register libraries
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>验证  </p>
<pre class="line-numbers language-html"><code class="language-html">1. Qt新建使用vs编译器的工程  
2. VS2015打开Qt工程  
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="hex、int、double、String、byte-转换"><a href="#hex、int、double、String、byte-转换" class="headerlink" title="hex、int、double、String、byte[]转换"></a>hex、int、double、String、byte[]转换</h2><pre class="line-numbers language-html"><code class="language-html">import java.nio.ByteBuffer;
import java.nio.ByteOrder;
import java.nio.charset.StandardCharsets;
import java.util.Arrays;
import java.util.List;
import java.util.Vector;

public class App {
    public static void main(String[] args) throws Exception {
        System.out.println("Hello, World!");
        // 114.43164760730886
        // 72 32 49 1D A0 9B 5C 40
        // 10.0
        // 00 00 00 00 00 00 24 40
        // byte[] tem2=DoubleToBytes(114.43164760730886);
        // byte[] tem=hexStrToByteArray("7232491DA09B5C40"); 
        // // byte[] tem=hexStrToByteArray("0000000000002440"); 
        // double abc=bytesToDouble(tem);
        // System.out.println(byteArrayToHexStr(tem));
        // System.out.println(abc);

        // byte[] ttt=intToBytes(148);
        // int ttt2= bytesToInt(ttt);
        // String tttStr= byteArrayToHexStr(ttt);
        // String s="Unamed FlightPlan";
        // byte[] b=s.getBytes(StandardCharsets.UTF_8);
        // String bs=byteArrayToHexStr(b);
        // System.out.println("Hello, World! end");

        // byte[] b2=hexStrToByteArray("76000000");
        // System.out.println(bytesToInt(b2));

        // int强制转化为short
        // short s1=(short) 145; 
        // // byte[2]转short
        // short s = BytesToShort(new byte[]{0x01, 0x02});
        // s = 256*1+2 = 258

        // short转byte[2]
        // short s2=(short)7700; // s2 = 256*30+20
        // byte[] sback=ShortToBytes(s2);
        // String sbackString=byteArrayToHexStr(sback);
        // System.out.println(BytesToShort(hexStrToByteArray(sbackString)));

        // 按需构建各自TLV
        String protocalVersion="V01.00.00";
        byte[] tag=new byte[]{(byte)0x90, (byte)0x00};
        byte[] tlvProcotalVer=generateTLV(tag , protocalVersion);
        String appVersion="V1.0.0";
        byte[] tag2=new byte[]{(byte)0x91, (byte)0x00};
        byte[] tlvAppVer=generateTLV(tag2 , appVersion);
        // 合并所有TLV
        byte[] tlvTotal=new byte[]{};
        Vector<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>byte[]</span><span class="token punctuation">></span></span> temp=new Vector&lt;>();
        temp.add(tlvProcotalVer);
        temp.add(tlvAppVer);
        for(int i=0;i&lt;temp.size();i++){
            tlvTotal=byte2Concat(tlvTotal, temp.get(i));
        }
        System.out.println(byteArrayToHexStr(tlvTotal));
        System.out.println(tlvTotal.length);
        // 把低位在前高位在后的两字节转short数
        byte[] short2 = new byte[]{(byte)0x09,(byte)0x00};
        System.out.println((short) ((short2[1] &lt;&lt; 8) | (short2[0] &amp; 0xFF)));
        System.out.println("Hello, World! End");

        byte[] tt=new byte[tlvTotal.length-4];
        System.arraycopy(tlvTotal, 4, tt, 0, tlvTotal.length-4);
        System.out.println(byteArrayToHexStr(tt));
    }

    // 拼接tlv字节数组 [short_Tag,short_Length,变长_Value]
    public static byte[] generateTLV(byte[] tag,String val){
        byte[] valbytes=val.getBytes(StandardCharsets.UTF_8);
        byte[] len=ShortToBytes((short)(valbytes.length));
        return byte3Concat(tag, len, valbytes);
    }
    // 合并2个byte[]数组为1个byte[]数组
    public static byte[] byte2Concat(byte[] bt1, byte[] bt2){
        byte[] bt4 = new byte[bt1.length+bt2.length];
        int len = 0;
        System.arraycopy(bt1, 0, bt4, 0, bt1.length);
        len += bt1.length;
        System.arraycopy(bt2, 0, bt4, len, bt2.length);
        return bt4;
    }
    // 合并3个byte[]数组为1个byte[]数组
    public static byte[] byte3Concat(byte[] bt1, byte[] bt2, byte[] bt3){
        byte[] bt4 = new byte[bt1.length+bt2.length+bt3.length];
        int len = 0;
        System.arraycopy(bt1, 0, bt4, 0, bt1.length);
        len += bt1.length;
        System.arraycopy(bt2, 0, bt4, len, bt2.length);
        len += bt2.length;
        System.arraycopy(bt3, 0, bt4, len, bt3.length);
        return bt4;
    }


     // 低位在前高位在后
     public static byte[] ShortToBytes(short s2){
        byte[] b=new byte[2]; 
        b[1] = (byte) ((s2 >>> 8) &amp; 0xFF);
        b[0] = (byte)((s2) &amp; 0xFF);
        return b;
    }
    // 高位在前低位在后
    public static byte[] ShortToBytes2(short s2){
        byte[] b=new byte[2]; 
        b[0] = (byte) ((s2 >>> 8) &amp; 0xFF);
        b[1] = (byte)((s2) &amp; 0xFF);
        return b;
    }
    // 范围内4字节int强制转2字节short
    public static short IntToShort(int value){
        return (short) value;       
    }

    public static short BytesToShort(byte[] bArray){
        // ByteBuffer.wrap(new byte[]{0x01, 0x02}).getShort();
       return ByteBuffer.wrap(bArray).getShort();
    }

    //double转byte数组,double占8字节，1个byte占1个字节
    public static byte[] DoubleToBytes(double d){
        //根据 IEEE 754 浮点“双精度格式”位布局，返回指定浮点值的表示形式，并保留 NaN 值。
        Long value = Double.doubleToRawLongBits(d);
        byte[] b = new byte[8];
        for(int i = 0 ; i&lt;8;i++){
            b[i] = (byte)((value>>8*i)&amp;0xff);
        }
        return b;
    }

    //byte数组转double         
    public static double bytesToDouble(byte[] b) {
        long value = 0;
        for (int i = 0; i &lt; 8; i++) {
            value |= ((long) (b[i] &amp; 0xff)) &lt;&lt; (8 * i);
        }
        // 返回对应于给定位表示形式的 double 值。
        return Double.longBitsToDouble(value);
    }
    //十六进制String转byte[]
    public static byte[] hexStrToByteArray(String str) {
        if (str == null) {
            return null;
        }
        if (str.length() == 0) {
            return new byte[0];
        }
        byte[] byteArray = new byte[str.length() / 2];
        for (int i = 0; i &lt; byteArray.length; i++) {
            String subStr = str.substring(2 * i, 2 * i + 2);
            byteArray[i] = ((byte) Integer.parseInt(subStr, 16));
        }
        return byteArray;
    }
    // byte[]转十六进制String
    public static String byteArrayToHexStr(byte[] byteArray) {
        if (byteArray == null) {
            return null;
        }
        char[] hexArray = "0123456789ABCDEF".toCharArray();
        char[] hexChars = new char[byteArray.length * 2];
        for (int j = 0; j &lt; byteArray.length; j++) {
            int v = byteArray[j] &amp; 0xFF;
            hexChars[j * 2] = hexArray[v >>> 4];
            hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];
        }
        return new String(hexChars);
    }

    // UTF8字节数组byte[]转String  
    public static String byteUtf8ToString(byte[] byteArray){
        // byte[] b={(byte)99,(byte)97,(byte)116};
        return new String(byteArray,StandardCharsets.UTF_8);
    }
    // String转UTF8字节数组byte[]  
    public static byte[] stringToByteUtf8(String s){
        return s.getBytes(StandardCharsets.UTF_8);
    }

    // 低位在前高位在后的四字节byte[]转int
    public static int bytesToInt(byte[] byteArray){
        int value;
        value=(int)((byteArray[0]&amp;0xFF)
        |((byteArray[1]&amp;0xFF)&lt;&lt;8)
        |((byteArray[2]&amp;0xFF)&lt;&lt;16)
        |((byteArray[3]&amp;0xFF)&lt;&lt;24));
        return value;
    }
    // 高位在前低位在后的四字节byte[]转int
    public static int bytesToInt2(byte[] byteArray){
        int value;
        value=(int)(((byteArray[0]&amp;0xFF)&lt;&lt;24)
        |((byteArray[1]&amp;0xFF)&lt;&lt;16)
        |((byteArray[2]&amp;0xFF)&lt;&lt;8)
        |((byteArray[3]&amp;0xFF)));
        return value;
    }
    // int转低位在前高位在后的四字节byte[]
    public static byte[] intToBytes(int value){
        byte[] src = new byte[4];
        src[3] =  (byte) ((value>>24) &amp; 0xFF);  
        src[2] =  (byte) ((value>>16) &amp; 0xFF);
        src[1] =  (byte) ((value>>8) &amp; 0xFF);
        src[0] =  (byte) (value &amp; 0xFF);  
        return src;
    }
    // int转高位在前低位在后的四字节byte[]
    public static byte[] intToBytes2(int value){
        byte[] src = new byte[4];
        src[0] =  (byte) ((value>>24) &amp; 0xFF);  
        src[1] =  (byte) ((value>>16) &amp; 0xFF);
        src[2] =  (byte) ((value>>8) &amp; 0xFF);
        src[3] =  (byte) (value &amp; 0xFF);  
        return src;
    }

}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            
            
            
            <div class="reprint1">
                <p>
                    <span class="reprint1-tip">
                        <i class="fa fa-exclamation-circle"></i>&nbsp;&nbsp;转载请注明:
                    </span>
                    <a href="http://127.0.0.1/diary" class="b-link-green">车舟慢</a>
                    <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                    <a href="/diary/2023/03/15/diary-20230315-1/" class="b-link-green">Android ADB Shell及其他Qt记录</a>
                </p>
            </div>

        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }
	
	/*zs shuai*/
	#vcomments{
		display:none;
	}
	
    /* valine 评论框增加背景图片 */
    #vcomments textarea {
        box-sizing: border-box;
        background: url("") 100% 100% no-repeat;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    /* 修复评论第一行位置错位 */
    .v .vlist .vcard {
    padding-top: 2.5em !important ;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <link rel="stylesheet" type="text/css" href="/libs//libs/jQuery-emoji/dist/css/jquery.emoji.css">
<script src="/libs//libs/jQuery-emoji/dist/js/jquery.emoji.min.js"></script>
<script src="/libs//libs/jQuery-emoji/dist/js/emoji.list.js"></script> -->
<script>
    new Valine({
        el: '#vcomments',
        appId: '2Kc1yifl00dRA6CYQxICVIe4-MdYXbMMI',
        appKey: 'xni6ILbDL2WVE4HDucMuDtx7',
        notify: 'true' === 'true',
        verify: 'true' === 'true',
        visitor: 'true' === 'true',
        avatar: '',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go ヾﾉ≧∀≦)o ',

    });

//     function parse_emoji() {
//     jQuery(".vcontent").emojiParse({
//       basePath: '/libs/jQuery-emoji/images/emoji',
//       icons: emojiLists   // 注：详见 js/emoji.list.js
//     });
//   }
  
//   setTimeout(function() {
//     // jQuery emoji 解析
//     parse_emoji();
//     // jquery emoji 初始化
//     jQuery(".veditor").emoji({
//       showTab: true,
//       animation: 'slide',
//       basePath: '/libs/jQuery-emoji/images/emoji',
//       icons: emojiLists  // 注：详见 js/emoji.list.js
//     });
//     jQuery(".vmore").on("click", function() {
//       setTimeout(function() {
//         parse_emoji();
//       }, 500);
//     });
//   }, 800)

</script>
    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/diary/2023/03/19/diary-20230319-1/">
                    <div class="card-image">
                        
                        
                        <img src="/diary/medias/featureimages/9.jpg" class="responsive-img" alt="导出不包含QT界面的C++dll">
                        
                        <span class="card-title">导出不包含QT界面的C++dll</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            导出不包含QT界面的C++dll以QtCreator编辑器为例，新建项目起名withoutqtui，项目模板选Library&gt;C++库-&gt;共享库由于本demo只导出不包含QT界面的c++dll，因此QtGui模块可以不选择，这里
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2023-03-19
                        </span>
                        <span class="publish-author">
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/diary/tags/Qt/" target="_blank">
                        <span class="chip bg-color">Qt</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/diary/2023/03/06/diary-20230306-1/">
                    <div class="card-image">
                        
                        
                        <img src="/diary/medias/featureimages/11.jpg" class="responsive-img" alt="c++多线程与生产消费者模型">
                        
                        <span class="card-title">c++多线程与生产消费者模型</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            多线程C++11在早期C++11之前，C++在语言级别上并不支持多线程，要想实现多线程，必须通过第三方库或者调用平台系统函数来实现的，而不同平台的多线程的系统函数又都不一样，所以给多线程编程带来了很多麻烦。但是从C++11开始，C++终于开
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2023-03-06
                            </span>
                        <span class="publish-author">
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/diary/tags/c/" target="_blank">
                        <span class="chip bg-color">c++</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 车舟慢<br />'
            + '作者: <br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/diary/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4, h5'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4, h5').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


        <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            

            <br>
            <span id="sitetime"></span><span class="my-face">ღゝ◡╹)ノ♡</span>
            <br>

            

            
            <!--
            
			
                &nbsp; | &nbsp;字数统计:&nbsp;
    <span class="white-color">650.5k</span> 字  
			
            
			
			-->

            
            <br>

        </div>

        <div class="col s12 m4 l4 social-link social-statis">

 
    <a href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=617641594@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>






    <a href="http://wpa.qq.com/msgrd?v=3&uin=617641594&site=qq&menu=yes" class="tooltipped" target="_blank" data-tooltip="访问我的QQ空间" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>




<!--

    <a href="/diary/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>

--></div>

    </div>
</footer>

<div class="progress-bar"></div>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();

        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */

        var t1 = Date.UTC(2020, 5, 1, 00, 00, 00); //北京时间2019-8-1 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes *
            minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已坚持运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours +
            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒" ;
    } /*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>






        <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>
<script src="/diary/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/diary/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
        <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


        <script src="/diary/libs/materialize/materialize.min.js"></script>
        <script src="/diary/libs/masonry/masonry.pkgd.min.js"></script>
        <script src="/diary/libs/aos/aos.js"></script>
        <script src="/diary/libs/scrollprogress/scrollProgress.min.js"></script>
        <script src="/diary/libs/lightGallery/js/lightgallery-all.min.js"></script>
        <script src="/diary/js/matery.js"></script>

        <!-- Global site tag (gtag.js) - Google Analytics -->



        
            <script src="/diary/libs/others/clicklove.js"></script>
        

        

        
        <script type="text/javascript">
            var OriginTitile = document.title,
                st;
            document.addEventListener("visibilitychange", function () {
                document.hidden ? (document.title = "看不见我🙈~看不见我🙈~", clearTimeout(st)) : (document.title =
                    "(๑•̀ㅂ•́) ✧被发现了～", st = setTimeout(function () {
                        document.title = OriginTitile
                    }, 3e3))
            })
        </script>

       
        

        
        

    
        

    
        

        

        
        

        
        

        
        
            <script type="text/javascript">
            var windowWidth = $(window).width();
            if (windowWidth > 992) {
                document.write('<script type="text/javascript" src="/diary/libs/background/ribbon-dynamic.js"><\/script>');
            }
            </script>
        

    <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>
</html>